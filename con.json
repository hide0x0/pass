{ "info": { "version": "v2", "description": "Confirms a shipment", "title": "Confirming" }, "paths": { "/confirm": { "post": { "responses": { "200": { "description": "A confirmation", "schema": { "$ref": "#/definitions/Response" } }, "default": { "description": "Error payload", "schema": { "items": { "$ref": "#/definitions/Error" }, "type": "array" } } }, "parameters": [ { "description": "Authenticate using your API key", "in": "header", "pattern": "^[A-Za-z0-9]{32}$", "required": true, "type": "string", "name": "apikey" }, { "required": true, "in": "body", "name": "body", "schema": { "$ref": "#/definitions/Request" } } ] } } }, "schemes": [ "https" ], "produces": [ "application/json" ], "basePath": "/shipment/v2", "host": "api-sandbox.postnl.nl", "definitions": { "Request": { "required": [ "Customer", "Message", "Shipments" ], "type": "object", "example": { "Customer": { "Address": { "AddressType": "02", "City": "Hoofddorp", "CompanyName": "PostNL", "Countrycode": "NL", "HouseNr": "42", "Street": "Siriusdreef", "Zipcode": "2132WT" }, "CollectionLocation": "1234506", "ContactPerson": "Janssen", "CustomerCode": "DEVC", "CustomerNumber": "11223344", "Email": "email@company.com", "Name": "Janssen" }, "Message": { "MessageID": "1", "MessageTimeStamp": "29-06-2016 12:00:00", "Printertype": "GraphicFile|PDF" }, "Shipments": { "Addresses": [ { "AddressType": "01", "City": "Utrecht", "Countrycode": "NL", "FirstName": "Peter", "HouseNr": "9", "HouseNrExt": "a bis", "Name": "de Ruiter", "Street": "Bilderdijkstraat", "Zipcode": "3532VA" } ], "Barcode": "3SDEVC201611210", "Contacts": [ { "ContactType": "01", "Email": "receiver@email.com", "SMSNr": "+31612345678", "TelNr": "+31301234567" } ], "DeliveryAddress": "01", "Dimension": { "Weight": "2000" }, "ProductCodeDelivery": "3085" } }, "properties": { "Customer": { "required": [ "CustomerNumber", "CustomerCode", "CollectionLocation" ], "type": "object", "properties": { "Address": { "required": [ "AddressType", "City", "Countrycode" ], "type": "object", "properties": { "AddressType": { "default": "02", "type": "string", "description": "Type of the address. This is a code. You can find the possible values at Guidelines", "pattern": "^\\d{2}$" }, "Area": { "type": "string", "description": "Area of the address", "pattern": "^.{0,35}$" }, "Buildingname": { "type": "string", "description": "Building name of the address", "pattern": "^.{0,35}$" }, "City": { "default": "Hoofddorp", "type": "string", "description": "City of the address", "pattern": "^.{0,35}$" }, "CompanyName": { "default": "PostNL", "type": "string", "description": "This field has a dependency with the field Name. One of both fields must be filled mandatory; using both fields is also allowed. Mandatory when AddressType is 09.", "pattern": "^.{0,35}$" }, "Countrycode": { "default": "NL", "type": "string", "description": "The ISO2 country codes", "pattern": "^[A-Z]{2}$" }, "Department": { "type": "string", "description": "Send to specific department of a company. ", "pattern": "^.{0,35}$" }, "Doorcode": { "type": "string", "description": "Door code of address. Mandatory for some international shipments.", "pattern": "^.{0,35}$" }, "FirstName": { "default": "Peter", "type": "string", "description": "Remark: please add FirstName and Name (lastname) of the receiver to improve the parcel tracking experience of your customer. ", "pattern": "^.{0,35}$" }, "Floor": { "type": "string", "description": "Send to specific floor of a company", "pattern": "^.{0,35}$" }, "HouseNr": { "default": "42", "type": "string", "description": "Mandatory for shipments to Benelux. Max. length is 5 characters (only for Benelux addresses). For Benelux addresses,this field should always be numeric.", "pattern": "^.{0,35}$" }, "HouseNrExt": { "type": "string", "description": "House number extension ", "pattern": "^.{0,35}$" }, "Name": { "default": "de Ruiter", "type": "string", "description": "Last name of person. This field has a dependency with the field CompanyName. One of both fields must be filled mandatory; using both fields is also allowed. Remark: please add FirstName and Name (lastname) of the receiver to improve the parcel tracking experience of your customer. ", "pattern": "^.{0,35}$" }, "Region": { "type": "string", "description": "Region of the address", "pattern": "^.{0,35}$" }, "Street": { "default": "Siriusdreef", "type": "string", "description": "This field has a dependency with the field StreetHouseNrExt. One of both fields must be filled mandatory; using both fields is also allowed. ", "pattern": "^.{0,95}$" }, "StreetHouseNrExt": { "type": "string", "description": "Combination of Street, HouseNr and HouseNrExt. Please see Guidelines for the explanation." }, "Zipcode": { "default": "2132WT", "type": "string", "description": "Zipcode of the address. Mandatory for shipments to Benelux. Max length (NL) 6 characters,(BE;LU) 4 numeric characters", "pattern": "^.{0,17}$" } } }, "CollectionLocation": { "default": "1234506", "type": "string", "description": "Code of delivery location at PostNL Pakketten" }, "ContactPerson": { "default": "Janssen", "type": "string", "description": "Name of customer contact person" }, "CustomerCode": { "default": "DEVC", "type": "string", "description": "Customer code as known at PostNL Pakketten" }, "CustomerNumber": { "default": "11223344", "type": "string", "description": "Name of customer contact person" }, "Email": { "default": "email@company.com", "type": "string", "description": "E-mail address of the customer " }, "Name": { "default": "Janssen", "type": "string", "description": "Customer name" } } }, "Message": { "required": [ "MessageID", "MessageTimeStamp" ], "type": "object", "properties": { "MessageID": { "default": "1", "type": "string", "description": "ID of the message" }, "MessageTimeStamp": { "default": "29-06-2016 12:00:00", "type": "string", "description": "Date/time of sending the message. Format: dd-mm-yyyy hh:mm:ss", "pattern": "^(([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)|([12]\\d{3}-[01]\\d-[0-3]\\dT))[0-2]\\d:[0-5]\\d(:[0-5]\\d)?$" } } }, "Shipments": { "type": "array", "items": { "required": [ "Addresses", "Barcode", "Dimension", "ProductCodeDelivery" ], "type": "object", "properties": { "Addresses": { "items": { "required": [ "AddressType", "Countrycode" ], "type": "object", "properties": { "AddressType": { "default": "02", "type": "string", "description": "Type of the address. This is a code. You can find the possible values at Guidelines", "pattern": "^\\d{2}$" }, "Area": { "type": "string", "description": "Area of the address", "pattern": "^.{0,35}$" }, "Buildingname": { "type": "string", "description": "Building name of the address", "pattern": "^.{0,35}$" }, "City": { "default": "Hoofddorp", "type": "string", "description": "City of the address", "pattern": "^.{0,35}$" }, "CompanyName": { "default": "PostNL", "type": "string", "description": "This field has a dependency with the field Name. One of both fields must be filled mandatory; using both fields is also allowed. Mandatory when AddressType is 09.", "pattern": "^.{0,35}$" }, "Countrycode": { "default": "NL", "type": "string", "description": "The ISO2 country codes", "pattern": "^[A-Z]{2}$" }, "Department": { "type": "string", "description": "Send to specific department of a company. ", "pattern": "^.{0,35}$" }, "Doorcode": { "type": "string", "description": "Door code of address. Mandatory for some international shipments.", "pattern": "^.{0,35}$" }, "FirstName": { "default": "Peter", "type": "string", "description": "Remark: please add FirstName and Name (lastname) of the receiver to improve the parcel tracking experience of your customer. ", "pattern": "^.{0,35}$" }, "Floor": { "type": "string", "description": "Send to specific floor of a company", "pattern": "^.{0,35}$" }, "HouseNr": { "default": "42", "type": "string", "description": "Mandatory for shipments to Benelux. Max. length is 5 characters (only for Benelux addresses). For Benelux addresses,this field should always be numeric.", "pattern": "^.{0,35}$" }, "HouseNrExt": { "type": "string", "description": "House number extension ", "pattern": "^.{0,35}$" }, "Name": { "default": "de Ruiter", "type": "string", "description": "Last name of person. This field has a dependency with the field CompanyName. One of both fields must be filled mandatory; using both fields is also allowed. Remark: please add FirstName and Name (lastname) of the receiver to improve the parcel tracking experience of your customer. ", "pattern": "^.{0,35}$" }, "Region": { "type": "string", "description": "Region of the address", "pattern": "^.{0,35}$" }, "Street": { "default": "Siriusdreef", "type": "string", "description": "This field has a dependency with the field StreetHouseNrExt. One of both fields must be filled mandatory; using both fields is also allowed. ", "pattern": "^.{0,95}$" }, "StreetHouseNrExt": { "type": "string", "description": "Combination of Street, HouseNr and HouseNrExt. Please see Guidelines for the explanation." }, "Zipcode": { "default": "2132WT", "type": "string", "description": "Zipcode of the address. Mandatory for shipments to Benelux. Max length (NL) 6 characters,(BE;LU) 4 numeric characters", "pattern": "^.{0,17}$" } } }, "type": "array", "description": "List of 1 or more Address type elements. At least 1 address type is mandatory" }, "Amounts": { "items": { "required": [ "AmountType", "Value" ], "type": "object", "properties": { "AmountType": { "default": "01", "type": "string", "description": "Amount type. This is a code. Possible values are: 01 = Cash on delivery (COD) 02 = Insured value 04 mandatory for Commercial route China. 12 mandatory for Inco terms DDP Commercial route China.", "pattern": "^\\d{2}$" }, "AccountName": { "type": "string", "description": "Name of bank account owner " }, "BIC": { "type": "string", "description": "BIC number,optional for COD shipments (mandatory for bank account number other than originating in The Netherlands)" }, "Currency": { "default": "EUR", "type": "string", "description": "Currency code according ISO 4217. E.g. EUR", "pattern": "^[A-Z]{3}$" }, "IBAN": { "type": "string", "description": "IBAN bank account number,mandatory for COD shipments. Dutch IBAN numbers are 18 characters " }, "Reference": { "type": "string", "description": "Personal payment reference " }, "TransactionNumber": { "type": "string", "description": "Transaction number" }, "Value": { "default": "100.00", "type": "string", "description": "Money value in EUR (unless value Currency is specified for another currency). Value format (N6.2): #####0.00 (2 digits behind decimal dot) Mandatory for COD and Insured products", "pattern": "^\\d+.\\d{2}$" } } }, "type": "array", "description": "List of 0 or more AmountType elements. An amount represents a value of the shipment. Amount type 01 mandatory for COD-shipments, Amount type 02 mandatory for domestic insured shipments. Amount type 04 mandatory for Commercial route China (productcode 4992). Amount type 12 mandatory for Inco terms DDP Commercial route China (productcode 4992)" }, "Barcode": { "default": "3SDEVC2016112104", "type": "string", "description": "Barcode of the shipment. This is a unique value" }, "CodingText": { "type": "string", "example": "#2426A3A#03#0306#", "description": "Code used for logistic purposes (usually generated by the service itself when needed)" }, "CollectionTimeStampStart": { "type": "string", "description": "Starting date/time of the collection of the shipment. Format: dd-MM-yyyy hh:mm:ss", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)[0-2]\\d:[0-5]\\d(:[0-5]\\d)$" }, "CollectionTimeStampEnd": { "type": "string", "description": "Ending date/time of the collection of the shipment. Format: dd-MM-yyyy hh:mm:ss", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)[0-2]\\d:[0-5]\\d(:[0-5]\\d)$" }, "Contacts": { "items": { "required": [ "ContactType" ], "type": "object", "properties": { "ContactType": { "default": "01", "type": "string", "description": "Type of the contact. This is a code. You can find the possible values at Guidelines", "pattern": "^\\d{2}$" }, "Email": { "default": "receiver@email.com", "type": "string", "description": "Email address of the contact. Mandatory in some cases. Please see Guidelines" }, "SMSNr": { "default": "+31612345678", "type": "string", "description": "Mobile phone number of the contact. Mandatory in some cases" }, "TelNr": { "default": "+31301234567", "type": "string", "description": "Phone number of the contact" } } }, "type": "array", "description": "One or more ContactType elements belonging to a shipment. Mandatory in some cases. Please refer to the Guidelines\t" }, "Content": { "type": "string", "description": "Content of the shipment. Mandatory for Extra@Home shipments" }, "CostCenter": { "type": "string", "description": "Cost center of the shipment. This value will appear on your invoice" }, "CustomerOrderNumber": { "type": "string", "description": "Order number of the customer" }, "Customs": { "items": { "type": "object", "required": [ "Content", "Currency" ], "properties": { "Certificate": { "type": "boolean", "description": "At least one of the three types Certificate, Invoice or License is mandatory for Commercial Goods,Commercial Sample and Returned Goods" }, "CertificateNr": { "type": "string", "description": "Mandatory when Certificate is true. " }, "License": { "type": "boolean", "description": "At least one of the three types Certificate, Invoice or License is mandatory for Commercial Goods,Commercial Sample and Returned Goods" }, "LicenseNr": { "type": "string", "description": "Mandatory when License is true." }, "Invoice": { "type": "boolean", "description": "At least one of the three types Certificate, Invoice or License is mandatory for Commercial Goods,Commercial Sample and Returned Goods" }, "InvoiceNr": { "default": "INV_0120330", "type": "string", "description": "Mandatory when Invoice is true" }, "HandleAsNonDeliverable": { "type": "boolean", "description": "Determines what to do when the shipment cannot be delivered the first time (if this is set to true,the shipment will be returned after the first failed attempt)" }, "Currency": { "default": "EUR", "type": "string", "description": "Currency code,only EUR and USS are allowed" }, "ShipmentType": { "default": "Commercial Goods", "type": "string", "description": "Type of shipment,possible values: Gift,Documents,Commercial Goods,Commercial Sample,Returned Goods" }, "TrustedShipperID": { "type": "string", "description": "Trusted shipper ID; Mandatory for US shipments" }, "ImporterReferenceCode": { "type": "string", "description": "Importer reference code; Mandatory for US shipments" }, "TransactionCode": { "type": "string", "description": "Transaction code; Mandatory for US shipments" }, "TransactionDescription": { "type": "string", "description": "Transaction description; Mandatory for US shipments" }, "Content": { "items": { "required": [ "Description", "Quantity", "Weight", "Value" ], "type": "object", "properties": { "Description": { "default": "Powdered milk", "type": "string", "description": "Description of goods" }, "EAN": { "type": "string", "description": "A unique code for a product. Together with HS number this is mandatory for product code 4992." }, "ProductURL": { "type": "string", "description": "Webshop URL of the product which is being shipped. Mandatory for product code 4992" }, "Quantity": { "default": "2", "type": "string", "description": "Quantity of items in description", "pattern": "^\\d+$" }, "Weight": { "default": "2600", "type": "string", "description": "Net weight of goods in gram(gr)", "pattern": "^\\d+$" }, "Value": { "default": "20.00", "type": "string", "description": "Commercial (customs) value of goods.", "pattern": "^\\d+\\.\\d{2}$" }, "HSTariffNr": { "default": "100878", "type": "string", "description": "First 6 numbers of Harmonized System Code" }, "CountryOfOrigin": { "default": "NL", "type": "string", "description": "Origin country code" } } }, "type": "array" } }, "description": "The Customs type is mandatory for GlobalPack shipments and not allowed for any other shipment types." }, "type": "array", "description": "The Customs type is mandatory for GlobalPack shipments and not allowed for any other shipment types." }, "DeliveryAddress": { "default": "01", "type": "string", "description": "Delivery address specification. This field is mandatory when AddressType on the Address is 09.", "pattern": "^\\d{2}$" }, "DeliveryDate": { "type": "string", "description": "The delivery date of the shipment. We strongly advice to use the DeliveryDate service to get this date when using delivery options like Evening/Morning/Sameday delivery etc. For those products, this field is mandatory (please regard the Guidelines section). Format: dd-MM-yyyy hh:mm:ss", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)[0-2]\\d:[0-5]\\d(:[0-5]\\d)$" }, "DeliveryTimeStampStart": { "type": "string", "description": "The delivery date and the specific starting time of the shipment delivery. This can be retrieved from the DeliveryDate webservice using the MyTime delivery option. Format: dd-MM-yyyy hh:mm:ss", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)[0-2]\\d:[0-5]\\d(:[0-5]\\d)$" }, "DeliveryTimeStampEnd": { "type": "string", "description": "The delivery date and the specific end time of the shipment delivery. This can be retrieved from the DeliveryDate webservice using the MyTime delivery option. Format: dd-MM-yyyy hh:mm:ss", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3}\\s+)[0-2]\\d:[0-5]\\d(:[0-5]\\d)$" }, "Dimension": { "required": [ "Weight" ], "type": "object", "properties": { "Height": { "type": "string", "description": "Height of the shipment in milimeters (mm).", "pattern": "^\\d+$" }, "Length": { "type": "string", "description": "Length of the shipment in milimeters (mm). ", "pattern": "^\\d+$" }, "Volume": { "type": "string", "description": "Volume of the shipment in centimeters (cm3). Mandatory for E@H-products", "pattern": "^\\d+$" }, "Weight": { "default": "2000", "type": "string", "description": "Weight of the shipment in grams. Approximate weight suffices", "pattern": "^\\d+$" }, "Width": { "type": "string", "description": "Width of the shipment in milimeters (mm). ", "pattern": "^\\d+$" } } }, "DownPartnerBarcode": { "type": "string", "description": "Barcode of the downstream network partner of PostNL Pakketten." }, "DownPartnerID": { "type": "string", "description": "Identification of the downstream network partner of PostNL Pakketten." }, "DownPartnerLocation": { "type": "string", "description": "Identification of the location of the downstream network partner of PostNL Pakketten. Mandatory for Pickup at PostNl Location Belgium: LD-01" }, "Groups": { "type": "array", "items": { "required": [ "MainBarcode", "GroupType", "GroupCount", "GroupSequence" ], "type": "object", "properties": { "GroupType": { "default": "04", "type": "string", "description": "Group sort that determines the type of group that is indicated. This is a code. Possible values: 01 = Collection request 03 = Multiple parcels in one shipment (multicolli) 04 = Single parcel in one shipment", "pattern": "^\\d{2}$" }, "GroupSequence": { "default": "1", "type": "string", "description": "Sequence number of the collo within the complete shipment (e.g. collo 2 of 4) Mandatory for multicollo shipments", "pattern": "^\\d+$" }, "GroupCount": { "default": "1", "type": "string", "description": "Total number of colli in the shipment (in case of multicolli shipments) Mandatory for multicollo shipments", "pattern": "^\\d+$" }, "MainBarcode": { "default": "3SABCD7239264", "type": "string", "description": "Main barcode for the shipment (in case of multicolli shipments) Mandatory for multicollo shipments" } } }, "description": "List of 0 or more Group types with data, grouping multiple shipments together. Mandatory for multicollo shipments. Please see Guidelines (Multiple shipments) for more information." }, "HazardousMaterial": { "type": "array", "items": { "type": "object", "properties": { "ToxicSubstanceCode": { "type": "string" }, "AdditionalToxicSubstanceCode": { "type": "array", "items": { "type": "string" } }, "ADRPoints": { "type": "string" }, "TunnelCode": { "type": "string" }, "PackagingGroupCode": { "type": "string" }, "PackagingGroupDescription": { "type": "string" }, "GrossWeight": { "type": "string" }, "UNDGNumber": { "type": "string" }, "TransportCategoryCode": { "type": "string" }, "ChemicalTechnicalDescription": { "type": "string" } } } }, "IDType": { "type": "integer", "description": "Type of the ID document. Mandatory for ID Check products. See Products for possible values", "pattern": "^\\d{2}$" }, "IDNumber": { "type": "string", "description": "Document number of the ID document. Mandatory for ID Check products" }, "IDExpiration": { "type": "string", "description": "Expiration date of the ID document. Mandatory for ID Check products", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3})$" }, "ProductCodeCollect": { "type": "integer", "description": "Second product code of a shipment" }, "ProductCodeDelivery": { "default": "3085", "type": "string", "description": "Product code of the shipment ", "pattern": "^\\d{4,5}$" }, "ProductOptions": { "items": { "required": [ "Characteristic", "Option" ], "type": "object", "properties": { "Characteristic": { "type": "string", "default": "118", "description": "The characteristic of the ProductOption. Mandatory for some products, please see the Products page", "pattern": "^\\d{3}$" }, "Option": { "type": "string", "default": "006", "description": "The product option code for this ProductOption. Mandatory for some products, please see the Products page", "pattern": "^\\d{3}$" } } }, "type": "array", "description": "Product options for the shipment, mandatory for certain products, see the Products page of this webservice" }, "ReceiverDateOfBirth": { "type": "string", "description": "Date of birth. Mandatory for Age check products", "pattern": "^([0-3]\\d-[01]\\d-[12]\\d{3})$" }, "Reference": { "type": "string", "description": "Your own reference of the shipment. Mandatory for Extra@Home shipments; for E@H this is used to create your order number, so this should be unique for each request." }, "ReferenceCollect": { "type": "string", "description": "Additional reference of the collect order of the shipment" }, "Remark": { "type": "string", "description": "Remark of the shipment." }, "ReturnBarcode": { "type": "string", "description": "Return barcode of the shipment. Mandatory for Label in the Box (return label) shipments." }, "ReturnReference": { "type": "string", "description": "Return reference of the shipment" }, "TimeslotID": { "type": "string", "description": "ID of the chosen timeslot as returned by the timeslot webservice" } } } } } }, "Response": { "type": "object", "properties": { "ResponseShipments": { "items": { "type": "object", "properties": { "Barcode": { "type": "string" }, "Warnings": { "items": { "type": "object", "properties": { "Code": { "default": "", "type": "string" }, "Description": { "default": "", "type": "string" } } }, "type": "array" } } }, "type": "array" } } }, "Error": { "type": "object", "properties": { "ErrorMsg": { "type": "string" }, "ErrorNumber": { "type": "integer", "format": "int32" } } } }, "swagger": "2.0", "consumes": [ "application/json" ] }
